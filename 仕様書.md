# 簡易仕様書

## アプリ名

-   勤怠管理アプリケーション

## 対象 OS およびブラウザ

### 対象 OS

-   Windows 10 以上
-   macOS 10.14 以上
-   Linux（Ubuntu 18.04 以上）

### 対象ブラウザ

-   Google Chrome 90 以上
-   Mozilla Firefox 88 以上
-   Safari 14 以上
-   Microsoft Edge 90 以上

## 開発環境/言語

### 開発環境

-   OS: Windows11
-   エディタ: Visual Studio Code
-   実行環境: Laravel Artisan
-   データベース: SQLite

### 開発言語

-   HTML5
-   CSS
-   JavaScript
-   PHP:8.3.6

### 開発期間

-   2 週間（開発中）

## 機能概要（機能一覧）

-   出勤ボタン
-   休憩開始ボタン
-   休憩終了ボタン
-   退勤ボタン
-   現在の時刻の表示

## 画面概要

<img width="213" height="245" alt="Image" src="https://github.com/user-attachments/assets/fd571223-544c-46e4-99d0-678e52da7ea6" />

## フレームワーク

-   Laravel 11.45.1

## 設計ドキュメント

### posts テーブル

勤怠記録（出勤・休憩・退勤）を管理するテーブル

| カラム名   | データ型 | 制約                        | 説明         |
| ---------- | -------- | --------------------------- | ------------ |
| id         | integer  | PRIMARY KEY, AUTO_INCREMENT | ID 　　　　  |
| startWork  | datetime | NULLABLE                    | 出勤時刻     |
| startBreak | datetime | NULLABLE                    | 休憩開始時刻 |
| endBreak   | datetime | NULLABLE                    | 休憩終了時刻 |
| endWork    | datetime | NULLABLE                    | 退勤時刻     |
| created_at | datetime | NOT NULL                    | 作成日時     |
| updated_at | datetime | NOT NULL                    | 更新日時     |

---

## 開発環境構築手順

### 前提条件

以下をインストール：

-   PHP 8.0 以上
-   Composer、Git、SQLite3

**Linux でのインストール:**

```bash
sudo apt install -y php php-sqlite3 php-mbstring composer git
```

### セットアップ手順

```bash
# 1. リポジトリクローン
# 2. 環境設定
cp .env.example .env

# 3. PHP依存のインストール
composer install

# 4. アプリケーションキー生成
php artisan key:generate

# 5. データベース初期化
php artisan migrate:fresh --seed

# 6. 開発サーバ起動
php artisan serve --host=0.0.0.0 --port=8000
```

### アクセス

ブラウザで `http://localhost:8000` にアクセス

## コンセプト

勤怠管理システムとして、CRUD 操作の学習を目的に開発しました。

## こだわったポイント

-   打刻操作を「出勤 → 休憩開始 → 休憩終了 → 退勤」の順序に制限し、不正な操作を防止した。
-   Controller で if 文を用いて不正な順序の操作を禁止した。
-   try-catch 構文を用いてエラーハンドリングを行い、システムが途中で止まることのないようにした。
-   JavaScript で現在時刻をリアルタイムで表示させた。

## デザイン面でこだわったポイント

-   Tailwind CSS を活用し、効率的な開発をした。
-   セッション管理により現在の状態（勤務中・休憩中）を UI に反映させ、ユーザーが次の操作を即座に判断できるよう設計した。
-   不正な順序での操作に対して UI でエラーを表示させることで、データベースの不整合を防いだ。

## 技術面でアドバイスしてほしいポイント

-   現在、エラーハンドリングを if 文で実装していますが、機能拡張時のコード保守性向上を目指し、より効率的な設計パターンについてアドバイスをお願いします。

## 自己評価

### 良いところ

-   CRUD 操作の学習を目標として、勤怠データを記録する基本機能を実装することができた。
-   開発の際、システムダウンの課題に直面したが、エラーハンドリングの重要性を学び、システムの安定性向上に取り組むことができた。

### 改善点

-   ユーザー機能を実装していない。
-   ログイン機能の実装。
-   エラーハンドリングの if 文のリファクタリング。
-   エラー通知をモーダルウィンドウで実装。
